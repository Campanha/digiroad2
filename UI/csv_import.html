<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="css/digiroad2.css">
    <script type="text/javascript" src="node_modules/lodash/lodash.js"></script>
    <!-- Google Analytics loaded asynchronously -->
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
    <title>Digiroad 2 - CSV-tietojen tuominen</title>
</head>
<body>
<div class="page csv-import">
    <div class="content-box form-box">
        <header>Päivitä tietolajit CSV-tiedostosta</header>
        <form class="form form-horizontal" role="form" method="post" action="api/import/data/csv" enctype="multipart/form-data">
            <div class="file-upload">
                <span>Valitse CSV-tiedosto</span>
                <input id="upload-btn" type="file" class="upload" name="csv-file"/>
            </div>
            <input id="uploaded-file" placeholder="Ei valittua tiedostoa" disabled="disabled" />
            <select id="asset-selection" name="asset-type">
                <option selected disabled>Valitse ladattava tietolajityyppi</option>
                <option value="roadlinks">Täydentävät tielinkit</option>
                <option value="trafficsigns">Liikennemerkit</option>
                <option value="maintenanceRoads">Rautateiden huoltotie</option>
            </select>
            <div class="form-group form-controls">
                <button type="submit" class="btn btn-primary btn-lg">Lataa tiedot</button>
            </div>
        </form>
    </div>
</div>
<script type="text/javascript" src="src/utils/environment-utils.js"></script>
<script type="text/javascript" src="src/analytics.js"></script>
<script type="application/javascript">
    Analytics.start();
</script>
<script type="text/javascript">
  document.getElementById("upload-btn").onchange = function () {
    document.getElementById("uploaded-file").value = this.value;
  };
  $('#asset-selection').on('change', function () {
    $('.btn.btn-primary.btn-lg').prop('disabled', !$(this).val());
  }).trigger('change');
</script>
</body>
</html>
